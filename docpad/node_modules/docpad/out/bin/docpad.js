// Generated by CoffeeScript 1.6.3
var ConsoleInterface, DocPad, action;

DocPad = require('../lib/docpad');

ConsoleInterface = require('../lib/interfaces/console');

action = process.argv.slice(1).join(' ').indexOf('deploy') !== -1 ? 'load' : false;

DocPad.createInstance({
  action: action
}, function(err, docpad) {
  if (err) {
    return console.log(err.stack);
  }
  return new ConsoleInterface({
    docpad: docpad
  }, function(err, consoleInterface) {
    if (err) {
      return console.log(err.stack);
    }
    return consoleInterface.start();
  });
});
